!function(){var e={372:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},352:function(e){var t=function(e){return"string"==typeof e};e.exports=function(e,n,r){return Array.isArray(e)||(e=[e]),i=e.map((function(e){return t(e)?function(e,n,r){var i=0,a=0;if(""===e)return e;if(!e||!t(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var s,o,l,c=n;(function(e){return e instanceof RegExp})(c)||(c=new RegExp("("+(s=c,o=/[\\^$.*+?()[\]{}|]/g,l=RegExp(o.source),(s&&l.test(s)?s.replace(o,"\\$&"):s)+")"),"gi"));for(var d=e.split(c),p=1,m=d.length;p<m;p+=2)a=d[p].length,i+=d[p-1].length,d[p]=r(d[p],p,i),i+=a;return d}(e,n,r):e})),a=[],i.forEach((function(e){Array.isArray(e)?a=a.concat(e):a.push(e)})),a;var i,a}},875:function(e,t,n){"use strict";var r=n(196),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},250:function(e,t,n){"use strict";e.exports=n(875)},196:function(e){"use strict";e.exports=window.React}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{disableComplementaryArea:function(){return x},enableComplementaryArea:function(){return y},pinItem:function(){return S},setDefaultComplementaryArea:function(){return E},setFeatureDefaults:function(){return k},setFeatureValue:function(){return N},toggleFeature:function(){return P},unpinItem:function(){return j}});var t={};n.r(t),n.d(t,{getActiveComplementaryArea:function(){return A},isComplementaryAreaLoading:function(){return I},isFeatureActive:function(){return T},isItemPinned:function(){return C}});var r={};n.r(r),n.d(r,{changePreviewDeviceType:function(){return ve},closeSidebar:function(){return ge},openSidebar:function(){return we},requestSendingNewsletterPreview:function(){return ye},saveEditedEmail:function(){return be},toggleInserterSidebar:function(){return ue},toggleListviewSidebar:function(){return he},togglePreviewModal:function(){return _e},updateEmailProperty:function(){return Ee},updateSendPreviewEmail:function(){return fe}});var i={};n.r(i),n.d(i,{getEmailPostId:function(){return Ce},getInitialEditorSettings:function(){return Le},getPreviewState:function(){return Me},hasEdits:function(){return ke},isEmpty:function(){return Ie},isFeatureActive:function(){return Pe},isInserterSidebarOpened:function(){return Te},isListviewSidebarOpened:function(){return Re},isSaving:function(){return Ae},isSidebarOpened:function(){return Ne}});var a=n(372),s=n.n(a),o=window.wp.data;function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=window.wp.element,d=window.wp.components,p=window.wp.i18n,m=window.wp.primitives,u=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),h=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),v=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),_=window.wp.viewport,f=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),w=window.wp.deprecated,g=n.n(w),b=window.wp.preferences;const E=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),y=(e,t)=>n=>{let{registry:r,dispatch:i}=n;t&&(r.select(b.store).get(e,"isComplementaryAreaVisible")||r.dispatch(b.store).set(e,"isComplementaryAreaVisible",!0),i({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},x=e=>t=>{let{registry:n}=t;n.select(b.store).get(e,"isComplementaryAreaVisible")&&n.dispatch(b.store).set(e,"isComplementaryAreaVisible",!1)},S=(e,t)=>n=>{let{registry:r}=n;if(!t)return;const i=r.select(b.store).get(e,"pinnedItems");!0!==(null==i?void 0:i[t])&&r.dispatch(b.store).set(e,"pinnedItems",{...i,[t]:!0})},j=(e,t)=>n=>{let{registry:r}=n;if(!t)return;const i=r.select(b.store).get(e,"pinnedItems");r.dispatch(b.store).set(e,"pinnedItems",{...i,[t]:!1})};function P(e,t){return function(n){let{registry:r}=n;g()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),r.dispatch(b.store).toggle(e,t)}}function N(e,t,n){return function(r){let{registry:i}=r;g()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),i.dispatch(b.store).set(e,t,!!n)}}function k(e,t){return function(n){let{registry:r}=n;g()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),r.dispatch(b.store).setDefaults(e,t)}}const A=(0,o.createRegistrySelector)((e=>(t,n)=>{var r;const i=e(b.store).get(n,"isComplementaryAreaVisible");if(void 0!==i)return!1===i?null:null==t||null===(r=t.complementaryAreas)||void 0===r?void 0:r[n]})),I=(0,o.createRegistrySelector)((e=>(t,n)=>{var r;const i=e(b.store).get(n,"isComplementaryAreaVisible"),a=null==t||null===(r=t.complementaryAreas)||void 0===r?void 0:r[n];return i&&void 0===a})),C=(0,o.createRegistrySelector)((e=>(t,n,r)=>{var i;const a=e(b.store).get(n,"pinnedItems");return null===(i=null==a?void 0:a[r])||void 0===i||i})),T=(0,o.createRegistrySelector)((e=>(t,n,r)=>(g()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(b.store).get(n,r))));var R=(0,o.combineReducers)({complementaryAreas:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:r}=t;return e[n]?e:{...e,[n]:r}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:r}=t;return{...e,[n]:r}}}return e}});const L=(0,o.createReduxStore)("core/interface",{reducer:R,actions:e,selectors:t});(0,o.register)(L);var M=(0,window.wp.plugins.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),O=M((function(e){let{as:t=d.Button,scope:n,identifier:r,icon:i,selectedIcon:a,name:s,...p}=e;const m=t,u=(0,o.useSelect)((e=>e(L).getActiveComplementaryArea(n)===r),[r]),{enableComplementaryArea:h,disableComplementaryArea:v}=(0,o.useDispatch)(L);return(0,c.createElement)(m,l({icon:a&&u?a:i,onClick:()=>{u?v(n):h(n,r)}},p))})),V=e=>{let{smallScreenTitle:t,children:n,className:r,toggleButtonProps:i}=e;const a=(0,c.createElement)(O,l({icon:f},i));return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&(0,c.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),a),(0,c.createElement)("div",{className:s()("components-panel__header","interface-complementary-area-header",r),tabIndex:-1},n,a))};const B=()=>{};function F(e){let{name:t,as:n=d.Button,onClick:r,...i}=e;return(0,c.createElement)(d.Fill,{name:t},(e=>{let{onClick:t}=e;return(0,c.createElement)(n,l({onClick:r||t?function(){(r||B)(...arguments),(t||B)(...arguments)}:void 0},i))}))}F.Slot=function(e){let{name:t,as:n=d.ButtonGroup,fillProps:r={},bubblesVirtually:i,...a}=e;return(0,c.createElement)(d.Slot,{name:t,bubblesVirtually:i,fillProps:r},(e=>{if(!c.Children.toArray(e).length)return null;const t=[];c.Children.forEach(e,(e=>{let{props:{__unstableExplicitMenuItem:n,__unstableTarget:r}}=e;r&&n&&t.push(r)}));const r=c.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&t.includes(e.props.__unstableTarget)?null:e));return(0,c.createElement)(n,a,r)}))};var D=F;const z=e=>{let{__unstableExplicitMenuItem:t,__unstableTarget:n,...r}=e;return(0,c.createElement)(d.MenuItem,r)};function G(e){let{scope:t,target:n,__unstableExplicitMenuItem:r,...i}=e;return(0,c.createElement)(O,l({as:e=>(0,c.createElement)(D,l({__unstableExplicitMenuItem:r,__unstableTarget:`${t}/${n}`,as:z,name:`${t}/plugin-more-menu`},e)),role:"menuitemcheckbox",selectedIcon:u,name:n,scope:t},i))}function H(e){let{scope:t,...n}=e;return(0,c.createElement)(d.Fill,l({name:`PinnedItems/${t}`},n))}H.Slot=function(e){let{scope:t,className:n,...r}=e;return(0,c.createElement)(d.Slot,l({name:`PinnedItems/${t}`},r),(e=>(null==e?void 0:e.length)>0&&(0,c.createElement)("div",{className:s()(n,"interface-pinned-items")},e)))};var U=H;function $(e){let{scope:t,children:n,className:r}=e;return(0,c.createElement)(d.Fill,{name:`ComplementaryArea/${t}`},(0,c.createElement)("div",{className:r},n))}const W=M((function(e){let{children:t,className:n,closeLabel:r=(0,p.__)("Close plugin"),identifier:i,header:a,headerClassName:l,icon:m,isPinnable:f=!0,panelClassName:w,scope:g,name:b,smallScreenTitle:E,title:y,toggleShortcut:x,isActiveByDefault:S,showIconLabels:j=!1}=e;const{isLoading:P,isActive:N,isPinned:k,activeArea:A,isSmall:I,isLarge:C}=(0,o.useSelect)((e=>{const{getActiveComplementaryArea:t,isComplementaryAreaLoading:n,isItemPinned:r}=e(L),a=t(g);return{isLoading:n(g),isActive:a===i,isPinned:r(g,i),activeArea:a,isSmall:e(_.store).isViewportMatch("< medium"),isLarge:e(_.store).isViewportMatch("large")}}),[i,g]);!function(e,t,n,r,i){const a=(0,c.useRef)(!1),s=(0,c.useRef)(!1),{enableComplementaryArea:l,disableComplementaryArea:d}=(0,o.useDispatch)(L);(0,c.useEffect)((()=>{r&&i&&!a.current?(d(e),s.current=!0):s.current&&!i&&a.current?(s.current=!1,l(e,t)):s.current&&n&&n!==t&&(s.current=!1),i!==a.current&&(a.current=i)}),[r,i,e,t,n])}(g,i,A,N,I);const{enableComplementaryArea:T,disableComplementaryArea:R,pinItem:M,unpinItem:B}=(0,o.useDispatch)(L);return(0,c.useEffect)((()=>{S&&void 0===A&&!I?T(g,i):void 0===A&&I&&R(g,i)}),[A,S,g,i,I]),(0,c.createElement)(c.Fragment,null,f&&(0,c.createElement)(U,{scope:g},k&&(0,c.createElement)(O,{scope:g,identifier:i,isPressed:N&&(!j||C),"aria-expanded":N,"aria-disabled":P,label:y,icon:j?u:m,showTooltip:!j,variant:j?"tertiary":void 0})),b&&f&&(0,c.createElement)(G,{target:b,scope:g,icon:m},y),N&&(0,c.createElement)($,{className:s()("interface-complementary-area",n),scope:g},(0,c.createElement)(V,{className:l,closeLabel:r,onClose:()=>R(g),smallScreenTitle:E,toggleButtonProps:{label:r,shortcut:x,scope:g,identifier:i}},a||(0,c.createElement)(c.Fragment,null,(0,c.createElement)("strong",null,y),f&&(0,c.createElement)(d.Button,{className:"interface-complementary-area__pin-unpin-item",icon:k?h:v,label:k?(0,p.__)("Unpin from toolbar"):(0,p.__)("Pin to toolbar"),onClick:()=>(k?B:M)(g,i),isPressed:k,"aria-expanded":k}))),(0,c.createElement)(d.Panel,{className:w},t)))}));W.Slot=function(e){let{scope:t,...n}=e;return(0,c.createElement)(d.Slot,l({name:`ComplementaryArea/${t}`},n))};var Y=W,q=e=>{let{isActive:t}=e;return(0,c.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,c.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null},K=window.wp.compose;function J(e){let{children:t,className:n,ariaLabel:r,as:i="div",...a}=e;return(0,c.createElement)(i,l({className:s()("interface-navigable-region",n),"aria-label":r,role:"region",tabIndex:"-1"},a),t)}var Q=(0,c.forwardRef)((function(e,t){let{isDistractionFree:n,footer:r,header:i,editorNotices:a,sidebar:o,secondarySidebar:m,notices:u,content:h,actions:v,labels:_,className:f,enableRegionNavigation:w=!0,shortcuts:g}=e;const b=(0,d.__unstableUseNavigateRegions)(g);!function(e){(0,c.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const E={
/* translators: accessibility text for the top bar landmark region. */
header:(0,p.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,p.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,p.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,p.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,p.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,p.__)("Footer"),..._},y={hidden:n?{opacity:0}:{opacity:1},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}}};return(0,c.createElement)("div",l({},w?b:{},{ref:(0,K.useMergeRefs)([t,w?b.ref:void 0]),className:s()(f,"interface-interface-skeleton",b.className,!!r&&"has-footer")}),(0,c.createElement)("div",{className:"interface-interface-skeleton__editor"},!!i&&n&&(0,c.createElement)(J,{as:d.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":E.header,initial:n?"hidden":"hover",whileHover:"hover",variants:y,transition:{type:"tween",delay:.8}},i),!!i&&!n&&(0,c.createElement)(J,{className:"interface-interface-skeleton__header",ariaLabel:E.header},i),n&&(0,c.createElement)("div",{className:"interface-interface-skeleton__header"},a),(0,c.createElement)("div",{className:"interface-interface-skeleton__body"},!!m&&(0,c.createElement)(J,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:E.secondarySidebar},m),!!u&&(0,c.createElement)("div",{className:"interface-interface-skeleton__notices"},u),(0,c.createElement)(J,{className:"interface-interface-skeleton__content",ariaLabel:E.body},h),!!o&&(0,c.createElement)(J,{className:"interface-interface-skeleton__sidebar",ariaLabel:E.sidebar},o),!!v&&(0,c.createElement)(J,{className:"interface-interface-skeleton__actions",ariaLabel:E.actions},v))),!!r&&(0,c.createElement)(J,{className:"interface-interface-skeleton__footer",ariaLabel:E.footer},r))})),X=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function Z(e){let{as:t=d.DropdownMenu,className:n,label:
/* translators: button label text should, if possible, be under 16 characters. */
r=(0,p.__)("Options"),popoverProps:i,toggleProps:a,children:o}=e;return(0,c.createElement)(t,{className:s()("interface-more-menu-dropdown",n),icon:X,label:r,popoverProps:{placement:"bottom-end",...i,className:s()("interface-more-menu-dropdown__content",null==i?void 0:i.className)},toggleProps:{tooltipPosition:"bottom",...a}},(e=>o(e)))}var ee=window.wp.blockLibrary,te=window.wp.keyboardShortcuts,ne=window.wp.coreData,re=window.wp.blockEditor,ie=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),ae=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),se=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),oe=(0,c.createElement)(m.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,c.createElement)(m.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"}));const le="email-editor/editor",ce="email-editor/editor/main/email",de="email-editor/editor/main/block";var pe=window.wp.dataControls;let me=function(e){return e.SUCCESS="success",e.ERROR="error",e}({});function ue(){return{type:"TOGGLE_INSERTER_SIDEBAR"}}function he(){return{type:"TOGGLE_LISTVIEW_SIDEBAR"}}function ve(e){return{type:"CHANGE_PREVIEW_STATE",state:{deviceType:e}}}function _e(e){return{type:"CHANGE_PREVIEW_STATE",state:{isModalOpened:e}}}function fe(e){return{type:"CHANGE_PREVIEW_STATE",state:{toEmail:e}}}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return function*(){yield(0,o.dispatch)(L).enableComplementaryArea(le,e)}()}const ge=()=>{(0,o.dispatch)(L).disableComplementaryArea(le)};function*be(){const e=(0,o.select)(le).getEmailPostId();yield(0,o.dispatch)(ne.store).saveEditedEntityRecord("postType","mailpoet_email",e,{})}function*Ee(e,t){const n=(0,o.select)(le).getEmailPostId(),r=(0,o.select)(ne.store).getEditedEntityRecord("postType","mailpoet_email",n),i=r?.mailpoet_data||{};yield(0,o.dispatch)(ne.store).editEntityRecord("postType","mailpoet_email",n,{mailpoet_data:{...i,[e]:t}})}function*ye(e,t){yield{type:"CHANGE_PREVIEW_STATE",state:{sendingPreviewStatus:null,isSendingPreviewEmail:!0}};try{const n=window.MailPoetEmailEditor.json_api_root,r=window.MailPoetEmailEditor.api_token,i="POST",a=new FormData;a.append("token",r),a.append("action","mailpoet"),a.append("api_version",window.MailPoetEmailEditor.api_version),a.append("endpoint","newsletters"),a.append("method","sendPreview"),a.append("data[subscriber]",t),a.append("data[id]",e.toString()),yield(0,pe.apiFetch)({url:n,method:i,body:a}),yield{type:"CHANGE_PREVIEW_STATE",state:{sendingPreviewStatus:me.SUCCESS,isSendingPreviewEmail:!1}}}catch(e){yield{type:"CHANGE_PREVIEW_STATE",state:{sendingPreviewStatus:me.ERROR,isSendingPreviewEmail:!1}}}}function xe(){const e=window.MailPoetEmailEditor.editor_settings;return e.__experimentalFeatures.color.palette.default=re.SETTINGS_DEFAULTS.colors,e}function Se(){const e=new URLSearchParams(window.location.search);return{inserterSidebar:{isOpened:!1},listviewSidebar:{isOpened:!1},postId:parseInt(e.get("postId"),10),editorSettings:xe(),preview:{deviceType:"Desktop",toEmail:window.MailPoetEmailEditor.current_wp_user_email,isModalOpened:!1,isSendingPreviewEmail:!1,sendingPreviewStatus:null}}}function je(e,t){switch(t.type){case"TOGGLE_INSERTER_SIDEBAR":return{...e,inserterSidebar:{...e.inserterSidebar,isOpened:!e.inserterSidebar.isOpened},listviewSidebar:{...e.listviewSidebar,isOpened:!1}};case"TOGGLE_LISTVIEW_SIDEBAR":return{...e,inserterSidebar:{...e.inserterSidebar,isOpened:!1},listviewSidebar:{...e.listviewSidebar,isOpened:!e.listviewSidebar.isOpened}};case"CHANGE_PREVIEW_STATE":return{...e,preview:{...e.preview,...t.state}};default:return e}}const Pe=(0,o.createRegistrySelector)((e=>(t,n)=>!!e(b.store).get(le,n))),Ne=(0,o.createRegistrySelector)((e=>()=>!!e(L).getActiveComplementaryArea(le))),ke=(0,o.createRegistrySelector)((e=>()=>{const t=e(le).getEmailPostId();return!!e(ne.store).hasEditsForEntityRecord("postType","mailpoet_email",t)})),Ae=(0,o.createRegistrySelector)((e=>()=>{const t=e(le).getEmailPostId();return!!e(ne.store).isSavingEntityRecord("postType","mailpoet_email",t)})),Ie=(0,o.createRegistrySelector)((e=>()=>{const t=e(le).getEmailPostId(),n=e(ne.store).getEntityRecord("postType","mailpoet_email",t);if(!n)return!0;const{content:r,mailpoet_data:i}=n;return!r.raw&&!i.subject&&!i.preheader}));function Ce(e){return e.postId}function Te(e){return e.inserterSidebar.isOpened}function Re(e){return e.listviewSidebar.isOpened}function Le(e){return e.editorSettings}function Me(e){return e.preview}var Oe=window.wp.keycodes,Ve=n(250);function Be(){return(0,Ve.jsx)(Z,{className:"edit-site-more-menu",popoverProps:{className:"edit-site-more-menu__content"},children:()=>(0,Ve.jsx)(d.MenuGroup,{label:(0,p._x)("View","noun","mailpoet"),children:(0,Ve.jsx)(b.PreferenceToggleMenuItem,{scope:le,name:"fullscreenMode",label:(0,p.__)("Fullscreen mode","mailpoet"),info:(0,p.__)("Work without distraction","mailpoet"),messageActivated:(0,p.__)("Fullscreen mode activated","mailpoet"),messageDeactivated:(0,p.__)("Fullscreen mode deactivated","mailpoet"),shortcut:Oe.displayShortcut.secondary("f")})})})}var Fe=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})),De=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),ze=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Ge=function(e){let{icon:t,size:n=24,...r}=e;return(0,c.cloneElement)(t,{width:n,height:n,...r})},He=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"})),Ue=window.wp.url;function $e(){const{requestSendingNewsletterPreview:e,togglePreviewModal:t,updateSendPreviewEmail:n}=(0,o.useDispatch)(le),{toEmail:r,isSendingPreviewEmail:i,sendingPreviewStatus:a,isModalOpened:s}=(0,o.useSelect)((e=>e(le).getPreviewState()),[]),[l]=(0,ne.useEntityProp)("postType","mailpoet_email","mailpoet_data"),m=()=>t(!1);return s?(0,Ve.jsxs)(d.Modal,{className:"mailpoet-send-preview-email",title:(0,p.__)("Send a test email","mailpoet"),onRequestClose:m,children:[a===me.ERROR?(0,Ve.jsxs)("div",{className:"mailpoet-send-preview-modal-notice-error",children:[(0,p.__)("Sorry, we were unable to send this email.","mailpoet"),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,c.createInterpolateElement)((0,p.__)("Please check your <link>sending method configuration</link> with your hosting provider.","mailpoet"),{link:(0,Ve.jsx)("a",{href:"admin.php?page=mailpoet-settings#mta",target:"_blank",rel:"noopener noreferrer"})})}),(0,Ve.jsx)("li",{children:(0,c.createInterpolateElement)((0,p.__)("Or, sign up for MailPoet Sending Service to easily send emails. <link>Sign up for free</link>","mailpoet"),{link:(0,Ve.jsx)("a",{href:new URL("free-plan","https://www.mailpoet.com/").toString(),target:"_blank",rel:"noopener noreferrer"},"sign-up-for-free")})})]})]}):null,(0,Ve.jsx)("p",{children:(0,c.createInterpolateElement)((0,p.__)("Send yourself a test email to test how your email would look like in different email apps. You could also enter your <link1>Mail Tester</link1> email below to test your spam score. <link2>Learn more</link2>.","mailpoet"),{link1:(0,Ve.jsx)("a",{href:"https://www.mail-tester.com/",target:"_blank",rel:"noopener noreferrer"}),link2:(0,Ve.jsx)("a",{href:"https://kb.mailpoet.com/article/147-test-your-spam-score-with-mail-tester",target:"_blank",rel:"noopener noreferrer"})})}),(0,Ve.jsx)(d.TextControl,{label:(0,p.__)("Send to","mailpoet"),onChange:e=>{n(e)},value:r,type:"email",required:!0}),a===me.SUCCESS?(0,Ve.jsxs)("p",{className:"mailpoet-send-preview-modal-notice-success",children:[(0,Ve.jsx)(Ge,{icon:ze,style:{fill:"#4AB866"}}),(0,p.__)("Test email sent successfully!","mailpoet")]}):null,(0,Ve.jsxs)("div",{className:"mailpoet-send-preview-modal-footer",children:[(0,Ve.jsx)(d.Button,{variant:"tertiary",onClick:m,children:(0,p.__)("Close","mailpoet")}),(0,Ve.jsx)(d.Button,{variant:"primary",onClick:()=>{e(l.id,r)},disabled:i||!(0,Ue.isEmail)(r),children:i?(0,p.__)("Sending...","mailpoet"):(0,p.__)("Send test email","mailpoet")})]})]}):null}function We(){const[e]=(0,ne.useEntityProp)("postType","mailpoet_email","mailpoet_data"),t=(0,o.useSelect)((e=>{const{deviceType:t}=e(le).getPreviewState();return t}),[]),{changePreviewDeviceType:n,togglePreviewModal:r}=(0,o.useDispatch)(le),i=e?.preview_url||"",a=e=>{n(e)},s={mobile:Fe,desktop:De};return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(d.DropdownMenu,{className:"mailpoet-preview-dropdown",label:(0,p.__)("Preview","mailpoet"),icon:s[t.toLowerCase()],children:e=>{let{onClose:n}=e;return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(d.MenuGroup,{children:[(0,Ve.jsx)(d.MenuItem,{className:"block-editor-post-preview__button-resize",onClick:()=>a("Desktop"),icon:"Desktop"===t&&ze,children:(0,p.__)("Desktop")}),(0,Ve.jsx)(d.MenuItem,{className:"block-editor-post-preview__button-resize",onClick:()=>a("Mobile"),icon:"Mobile"===t&&ze,children:(0,p.__)("Mobile")})]}),(0,Ve.jsx)(d.MenuGroup,{children:(0,Ve.jsx)(d.MenuItem,{className:"block-editor-post-preview__button-resize",onClick:()=>{r(!0),n()},children:(0,p.__)("Send a test email","mailpoet")})}),i?(0,Ve.jsx)(d.MenuGroup,{children:(0,Ve.jsx)("div",{className:"edit-post-header-preview__grouping-external",children:(0,Ve.jsxs)(d.Button,{className:"edit-post-header-preview__button-external",onClick:()=>{var e;e=i,window.open(e,"_blank","noreferrer")},children:[(0,p.__)("Preview in new tab"),(0,Ve.jsx)(Ge,{icon:He})]})})}):null]})}}),(0,Ve.jsx)($e,{})]})}var Ye=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"}));function qe(){const{saveEditedEmail:e}=(0,o.useDispatch)(le),{hasEdits:t,isEmpty:n,isSaving:r}=(0,o.useSelect)((e=>({hasEdits:e(le).hasEdits(),isEmpty:e(le).isEmpty(),isSaving:e(le).isSaving()})),[]),i=!n&&!r&&!t,a=n||r||i;let s=(0,p.__)("Save Draft","mailpoet");return i?s=(0,p.__)("Saved","mailpoet"):r&&(s=(0,p.__)("Saving","mailpoet")),(0,Ve.jsxs)(d.Button,{variant:"tertiary",disabled:a,onClick:e,children:[r&&(0,Ve.jsx)(Ge,{icon:Ye}),i&&(0,Ve.jsx)(Ge,{icon:ze}),s]})}function Ke(){const e=(0,c.useRef)(),t=(0,c.useRef)(),n=(0,c.useRef)(),r=(0,c.useRef)(),{toggleInserterSidebar:i,toggleListviewSidebar:a}=(0,o.useDispatch)(le),{undo:s,redo:l}=(0,o.useDispatch)(ne.store),{isInserterSidebarOpened:m,isListviewSidebarOpened:u,hasUndo:h,hasRedo:v}=(0,o.useSelect)((e=>({isInserterSidebarOpened:e(le).isInserterSidebarOpened(),isListviewSidebarOpened:e(le).isListviewSidebarOpened(),hasUndo:e(ne.store).hasUndo(),hasRedo:e(ne.store).hasRedo()})),[]),[_]=(0,ne.useEntityProp)("postType","mailpoet_email","mailpoet_data"),f=_,w=e=>{e.preventDefault()},g=m?(0,p.__)("Close"):(0,p.__)("Add");return(0,Ve.jsxs)("div",{className:"edit-post-header",children:[(0,Ve.jsxs)("div",{className:"edit-post-header__toolbar",children:[(0,Ve.jsx)(re.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":(0,p.__)("Email document tools","mailpoet"),children:(0,Ve.jsxs)("div",{className:"edit-post-header-toolbar__left",children:[(0,Ve.jsx)(d.ToolbarItem,{ref:e,as:d.Button,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:m,onMouseDown:w,onClick:i,disabled:!1,icon:ie,label:g,showTooltip:!0,"aria-expanded":m}),(0,Ve.jsx)(d.ToolbarItem,{ref:n,as:d.Button,className:"editor-history__undo",isPressed:!1,onMouseDown:w,onClick:s,disabled:!h,icon:ae,label:(0,p.__)("Undo"),showTooltip:!0}),(0,Ve.jsx)(d.ToolbarItem,{ref:r,as:d.Button,className:"editor-history__redo",isPressed:!1,onMouseDown:w,onClick:l,disabled:!v,icon:se,label:(0,p.__)("Redo"),showTooltip:!0}),(0,Ve.jsx)(d.ToolbarItem,{ref:t,as:d.Button,className:"edit-post-header-toolbar__document-overview-toggle",isPressed:u,onMouseDown:w,onClick:a,disabled:!1,icon:oe,label:(0,p.__)("List view","mailpoet"),showTooltip:!0,"aria-expanded":m})]})}),(0,Ve.jsx)("div",{className:"edit-post-header__center",children:"Todo Email Name"})]}),(0,Ve.jsxs)("div",{className:"edit-post-header__settings",children:[(0,Ve.jsx)(qe,{}),(0,Ve.jsx)(We,{}),(0,Ve.jsx)(d.Button,{variant:"primary",onClick:()=>{window.location.href=`admin.php?page=mailpoet-newsletters#/send/${f.id}`},children:(0,p.__)("Send","mailpoet")}),(0,Ve.jsx)(U.Slot,{scope:le}),(0,Ve.jsx)(Be,{})]})]})}var Je=(0,c.createElement)(m.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"}));function Qe(e){let{sidebarKey:t}=e;const{openSidebar:n}=(0,o.useDispatch)(le);return(0,Ve.jsx)("div",{className:"components-panel__header interface-complementary-area-header edit-post-sidebar__panel-tabs",children:(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)("button",{onClick:()=>{n(ce)},className:s()("components-button edit-post-sidebar__panel-tab",{"is-active":t===ce}),"data-automation-id":"email_settings_tab",type:"button",children:(0,p.__)("Email","mailpoet")})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("button",{onClick:()=>{n(de)},className:s()("components-button edit-post-sidebar__panel-tab",{"is-active":t===de}),"data-automation-id":"mailpoet_block_settings_tab",type:"button",children:(0,p.__)("Block")})})]})})}var Xe=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})),Ze=n(352),et=n.n(Ze);function tt(){const[e]=(0,ne.useEntityProp)("postType","mailpoet_email","mailpoet_data"),{updateEmailProperty:t}=(0,o.useDispatch)(le);let n=et()((0,p.__)("Use shortcodes to personalize your email, or learn more about [link1]best practices[/link1] and using [link2]emoji in subject lines[/link2].","mailpoet"),/\[link1\](.*?)\[\/link1\]/g,((e,t)=>(0,Ve.jsx)("a",{href:"https://www.mailpoet.com/blog/17-email-subject-line-best-practices-to-boost-engagement/",target:"_blank",rel:"noopener noreferrer",children:e},t)));n=et()(n,/\[link2\](.*?)\[\/link2\]/g,((e,t)=>(0,Ve.jsx)("a",{href:"https://www.mailpoet.com/blog/tips-using-emojis-in-subject-lines/",target:"_blank",rel:"noopener noreferrer",children:e},t)));const r=(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)("span",{children:(0,p.__)("Subject","mailpoet")}),(0,Ve.jsx)(d.ExternalLink,{href:"https://kb.mailpoet.com/article/215-personalize-newsletter-with-shortcodes#list",children:(0,p.__)("Shortcode guide","mailpoet")})]}),i=(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)("span",{children:(0,p.__)("Preview text (recommended)","mailpoet")}),(0,Ve.jsx)(d.Tooltip,{text:(0,p.__)("This text will appear in the inbox, underneath the subject line. Max length is 250 characters, but we recommend 80 characters.","mailpoet"),children:(0,Ve.jsx)("span",{className:"mailpoet-preview-text__help-icon",children:(0,Ve.jsx)(Ge,{icon:Xe,size:20})})})]});return(0,Ve.jsxs)(d.PanelBody,{title:(0,p.__)("Details","mailpoet"),className:"mailpoet-email-editor__settings-panel",children:[(0,Ve.jsx)(d.TextareaControl,{className:"mailpoet-settings-panel__subject",label:r,placeholder:(0,p.__)("Eg. The summer sale is here!","mailpoet"),value:e?.subject??"",onChange:e=>t("subject",e),"data-automation-id":"email_subject"}),(0,Ve.jsx)("div",{className:"mailpoet-settings-panel__subject-help",children:(0,Ve.jsx)(d.__experimentalText,{children:n})}),(0,Ve.jsx)(d.TextareaControl,{className:"mailpoet-settings-panel__preview-text",label:i,placeholder:(0,p.__)("Add a preview text to capture subscribers' attention and increase open rates.","mailpoet"),value:e?.preheader??"",onChange:e=>t("preheader",e),"data-automation-id":"email_preview_text"})]})}var nt=(0,c.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,c.createElement)(m.Path,{fillRule:"evenodd",d:"M6.863 13.644L5 13.25h-.5a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5H5L18 6.5h2V16h-2l-3.854-.815.026.008a3.75 3.75 0 01-7.31-1.549zm1.477.313a2.251 2.251 0 004.356.921l-4.356-.921zm-2.84-3.28L18.157 8h.343v6.5h-.343L5.5 11.823v-1.146z",clipRule:"evenodd"}));function rt(){return(0,Ve.jsx)(d.Panel,{className:"mailpoet-email-sidebar__email-type-info",children:(0,Ve.jsx)(d.PanelBody,{children:(0,Ve.jsxs)(d.PanelRow,{children:[(0,Ve.jsx)("span",{className:"mailpoet-email-type-info__icon",children:(0,Ve.jsx)(Ge,{icon:nt})}),(0,Ve.jsxs)("div",{className:"mailpoet-email-type-info__content",children:[(0,Ve.jsx)("h2",{children:(0,p.__)("Newsletter","mailpoet")}),(0,Ve.jsx)("span",{children:(0,p.__)("Send or schedule a newsletter to connect with your subscribers.","mailpoet")})]})]})})})}function it(){return(0,Ve.jsxs)(d.Panel,{children:[(0,Ve.jsx)(rt,{}),(0,Ve.jsx)(tt,{})]})}const{Slot:at,Fill:st}=(0,d.createSlotFill)("EmailEditorBlockInspector");function ot(e){const{sidebarKey:t}=(0,o.useSelect)((e=>({sidebarKey:e(L).getActiveComplementaryArea(le)??ce})));return(0,Ve.jsxs)(Y,{identifier:t,className:"edit-post-sidebar",header:(0,Ve.jsx)(Qe,{sidebarKey:t}),icon:Je,scope:le,smallScreenTitle:(0,p.__)("No title","mailpoet"),isActiveByDefault:!0,...e,children:[t===ce&&(0,Ve.jsx)(it,{}),t===de&&(0,Ve.jsx)(d.Panel,{children:(0,Ve.jsx)(at,{bubblesVirtually:!0})})]})}ot.InspectorFill=st;const{Slot:lt,Fill:ct}=(0,d.createSlotFill)("EmailEditorListview");function dt(){return(0,Ve.jsx)("div",{className:"edit-post-editor__inserter-panel edit-post-editor__document-overview-panel",children:(0,Ve.jsx)("div",{className:"edit-post-editor__list-view-panel-content",children:(0,Ve.jsx)("div",{className:"edit-post-editor__list-view-container",children:(0,Ve.jsx)(lt,{bubblesVirtually:!0})})})})}dt.ListviewFill=ct;const{Slot:pt,Fill:mt}=(0,d.createSlotFill)("EmailEditorInserter");function ut(){return(0,Ve.jsx)("div",{className:"edit-post-editor__inserter-panel",children:(0,Ve.jsx)("div",{className:"edit-post-editor__inserter-panel-content",children:(0,Ve.jsx)(pt,{bubblesVirtually:!0})})})}function ht(){const{postId:e,initialSettings:t,previewDeviceType:n}=(0,o.useSelect)((e=>({postId:e(le).getEmailPostId(),initialSettings:e(le).getInitialEditorSettings(),previewDeviceType:e(le).getPreviewState().deviceType})),[]),[r,i,a]=(0,ne.useEntityBlockEditor)("postType","mailpoet_email",{id:e.toString()});let l=(0,re.__experimentalUseResizeCanvas)(n);l||(l={height:"100%",width:"660px",margin:"0 auto",display:"flex",flexFlow:"column"}),l.background="#ffffff",l.transition="all 0.3s ease 0s";const c={background:"Desktop"===n?"#cccccc":"transparent"};return(0,Ve.jsx)("div",{className:"edit-post-visual-editor",children:(0,Ve.jsx)("div",{className:"edit-post-visual-editor__content-area",style:c,children:(0,Ve.jsx)("div",{style:l,className:s()({"is-mobile-preview":"Mobile"===n,"is-desktop-preview":"Desktop"===n}),children:(0,Ve.jsxs)(re.BlockEditorProvider,{value:r,onInput:i,onChange:a,settings:t,children:[(0,Ve.jsx)(ot.InspectorFill,{children:(0,Ve.jsx)(re.BlockInspector,{})}),(0,Ve.jsx)(dt.ListviewFill,{children:(0,Ve.jsx)(re.__experimentalListView,{})}),(0,Ve.jsx)(ut.InserterFill,{children:(0,Ve.jsx)(re.__experimentalLibrary,{showMostUsedBlocks:!0,showInserterHelpPanel:!1,rootClientId:void 0,__experimentalInsertionIndex:void 0})}),(0,Ve.jsxs)("div",{className:"editor-styles-wrapper",children:[(0,Ve.jsx)(re.BlockEditorKeyboardShortcuts.Register,{}),(0,Ve.jsx)(re.BlockTools,{children:(0,Ve.jsx)(re.WritingFlow,{children:(0,Ve.jsx)(re.ObserveTyping,{children:(0,Ve.jsx)(re.BlockList,{})})})})]})]})})})})}function vt(){const{isFullscreenActive:e,isSidebarOpened:t,isInserterSidebarOpened:n,isListviewSidebarOpened:r,postId:i}=(0,o.useSelect)((e=>({isFullscreenActive:e(le).isFeatureActive("fullscreenMode"),isSidebarOpened:e(le).isSidebarOpened(),isInserterSidebarOpened:e(le).isInserterSidebarOpened(),isListviewSidebarOpened:e(le).isListviewSidebarOpened(),postId:e(le).getEmailPostId()})),[]),a=s()("interface-interface-skeleton",{"is-sidebar-opened":t});return(0,Ve.jsx)(c.StrictMode,{children:(0,Ve.jsx)(te.ShortcutProvider,{children:(0,Ve.jsx)(d.SlotFillProvider,{children:(0,Ve.jsxs)(ne.EntityProvider,{kind:"postType",type:"mailpoet_email",id:i,children:[(0,Ve.jsx)(q,{isActive:e}),(0,Ve.jsx)(ot,{}),(0,Ve.jsx)(Q,{className:a,header:(0,Ve.jsx)(Ke,{}),content:(0,Ve.jsx)(ht,{}),sidebar:(0,Ve.jsx)(Y.Slot,{scope:le}),secondarySidebar:n&&(0,Ve.jsx)(ut,{})||r&&(0,Ve.jsx)(dt,{})}),(0,Ve.jsx)(d.Popover.Slot,{})]})})})})}ut.InserterFill=mt,window.addEventListener("DOMContentLoaded",(()=>{!function(e){(()=>{const e=(0,o.createReduxStore)(le,{actions:r,controls:pe.controls,selectors:i,reducer:je,initialState:Se()});(0,o.register)(e)})();const t=document.getElementById("mailpoet-email-editor");t&&((0,ee.registerCoreBlocks)(),(0,c.createRoot)(t).render((0,Ve.jsx)(vt,{})))}()}))}()}();